<!DOCTYPE html>
<html>
<head>
	<script>
		document.getElementById("target").addEventListener("mouseup", function(event) {
		var clickX = event.pageX ;
		var clickY = event.pageY ;

		// 要素の位置を取得
		var clientRect = this.getBoundingClientRect() ;
		var positionX = clientRect.left + window.pageXOffset ;
		var positionY = clientRect.top + window.pageYOffset ;

		// 要素内におけるクリック位置を計算
		var x = clickX - positionX ;
		var y = clickY - positionY ;
		console.log(x,y);   // x座標(絶対座標)

		} ) ;

		//JSON preserve
		var tasks = [
		{ task: 'task1', isDone: true, tags: ['project1', 'memo'] },
		{ task: 'task2', isDone: false, tags: ['project1', 'memo'] },
		{ task: 'task3', isDone: false, tags: ['project2', 'asap'] }
		];
		var data = JSON.stringify(tasks);
		var a = document.createElement('a');
		a.textContent = 'export'
		a.download = 'tasks.json';
		a.href = window.URL.createObjectURL(new Blob([data], { type: 'text/plain' }));
		a.dataset.downloadurl = ['text/plain', a.download, a.href].join(':');
		var exportLink = document.getElementById('export-link');
		exportLink.appendChild(a);
	</script>
</head>
<body>
	<span id="export-link"></span>
</body>
</html>